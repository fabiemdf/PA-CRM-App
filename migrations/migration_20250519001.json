{
    "version": "20250519001",
    "name": "feature_settlement_calculator",
    "up": "CREATE TABLE IF NOT EXISTS insurance_companies (id INTEGER PRIMARY KEY, name VARCHAR(255) NOT NULL, address VARCHAR(255), phone VARCHAR(50), email VARCHAR(100), website VARCHAR(255), contact_person VARCHAR(100), notes TEXT, created_at TIMESTAMP, updated_at TIMESTAMP); CREATE TABLE IF NOT EXISTS policies (id INTEGER PRIMARY KEY, policy_number VARCHAR(50) NOT NULL UNIQUE, policy_type VARCHAR(50) NOT NULL, carrier_id INTEGER, coverage_a FLOAT, coverage_b FLOAT, coverage_c FLOAT, coverage_d FLOAT, coverage_e FLOAT, coverage_f FLOAT, deductible FLOAT, hurricane_deductible FLOAT, replacement_cost BOOLEAN, law_ordinance BOOLEAN, effective_date TIMESTAMP, expiration_date TIMESTAMP, FOREIGN KEY(carrier_id) REFERENCES insurance_companies(id)); CREATE TABLE IF NOT EXISTS damage_categories (id INTEGER PRIMARY KEY, name VARCHAR(100) NOT NULL, description VARCHAR(255)); CREATE TABLE IF NOT EXISTS damage_items (id INTEGER PRIMARY KEY, category_id INTEGER NOT NULL, name VARCHAR(100) NOT NULL, description VARCHAR(255), default_depreciation_rate FLOAT, FOREIGN KEY(category_id) REFERENCES damage_categories(id)); CREATE TABLE IF NOT EXISTS settlement_calculations (id INTEGER PRIMARY KEY, claim_id VARCHAR(50), policy_number VARCHAR(50), depreciation_rate FLOAT, overhead_profit_rate FLOAT, sales_tax_rate FLOAT, total_damage_estimate FLOAT, depreciation_amount FLOAT, actual_cash_value FLOAT, recoverable_depreciation FLOAT, replacement_cost_value FLOAT, overhead_profit_amount FLOAT, sales_tax_amount FLOAT, deductible_amount FLOAT, net_claim_value FLOAT, negotiation_adjustment FLOAT, estimated_settlement FLOAT, calculation_data TEXT, created_at TIMESTAMP NOT NULL, updated_at TIMESTAMP); CREATE TABLE IF NOT EXISTS damage_entries (id INTEGER PRIMARY KEY, calculation_id INTEGER NOT NULL, item_id INTEGER NOT NULL, amount FLOAT NOT NULL, quantity FLOAT DEFAULT 1.0, notes VARCHAR(255), FOREIGN KEY(calculation_id) REFERENCES settlement_calculations(id), FOREIGN KEY(item_id) REFERENCES damage_items(id))",
    "down": "DROP TABLE IF EXISTS damage_entries; DROP TABLE IF EXISTS settlement_calculations; DROP TABLE IF EXISTS damage_items; DROP TABLE IF EXISTS damage_categories; DROP TABLE IF EXISTS policies; DROP TABLE IF EXISTS insurance_companies"
} 